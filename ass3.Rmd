---
title: "R Notebook"
output: html_notebook
---

```{r setup, echo = FALSE}
suppressPackageStartupMessages({
  library(tidyverse)
})
```

1.  What information does the file ddf_concepts.csv contain?

Enkleste måten å få et overblikk over innholdet er å klikke på filen i file-pane og så velge import-dataset.

Filen ddf_concepts.csv ser ut til å inneholde en kort beskrivelse av datasettene som finnes i mappen *countries-etc-datapoints*.

2.  What information does the file ddf---entities--geo---country.csv contain?

Beskrivelse av hvert enkelt land i datasettet slik som navn, forkortelse, verdensdel, geografiske koordinater, forkortelser etc.

3.  What information does the the file ddg_entities--geo--un_sdg_region.csv contain?

Gir oss ulike regioner definert av UN.
Ser at Australia og New Zealand er en egen region etter denne definisjonen.

4.  What variables does the gapminder dataset from the gapminder package contain?
    To what continent are Australia and New Zealand assigned?

    Må altså flytte Australia og New Zealand fra Asia til Osceania for å være på line med gapminder.

    land, kontinent, årstall for gjennomført innhenting av data, forventet levealder, innbyggertall, BNP.
    Australia og New Zealand tilhører Oseanina.

5.  Recreate the continent variable in gapminder with the new data?

    ```{r}
    gapminder::gapminder %>% 
      select(country:continent) %>% 
      distinct() %>% 
      arrange(continent, country) %>% 
      View()
    ```

    Ser at Australia og New Zealand tilhører kontinentet Osceania i gapminder datasettet.

    ```{r continent}
    g_c <- read_csv("data/ddf--entities--geo--country.csv")
    tmp <- g_c %>% 
      mutate(
        continent = case_when(
          world_4region == "asia" ~ "Asia", 
          world_4region == "africa" ~ "Afrika",
          world_4region == "americas" ~ "Amerika",
          world_4region == "europe" ~ "Europa"
          )
        ) %>% 
      # fix Australia and New Zealand
      filter(iso3166_1_alpha2 %in% c("AU", "NZ")) %>% 
      mutate(
        continent = "Oceania"
      )
    ```

    ```{r}
    tmp %>% 
      filter(continent == "Oceania") %>% 
      select(country, continent)
    ```

    ```{r}
    g_c <- g_c%>%
      mutate(continent = case_when(
        world_4region == "asia" & un_sdg_region %in%
    c("un_australia_and_new_zealand","un_oceania_exc_australia_and_new_zealand") ~ "oceania",
        world_4region == "asia" & !(un_sdg_region %in% c("un_australia_and_new_zealand", 
    "un_oceania_exc_australia_and_new_zealand")) ~"asia", 
        world_4region == "africa" ~"Afrika",
        world_4region == "americas" ^"Amerika",
        world_4region == "europe" ~"Europa")
    ) %>%
      filter(!is.na(iso3166_1_alpha3))
    ```

6.  How many countries are there now?

```{r}
g_c <- read.csv("data/ddf--entities--geo--country.csv")
print(g_c)
```

8.  How many conutries are there now in each continent?

task
